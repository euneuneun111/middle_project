<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Report-Mapper">

	<select id="selectReportCount" resultType="int">
		SELECT COUNT(*) FROM REPORT
	</select>

	<select id="selectReportList" resultType="report"
		parameterType="reportpageMaker">
		SELECT * FROM REPORT
		ORDER BY rno DESC
	</select>

	<!-- 시퀀스 조회 -->
	<select id="selectReportSequenceNextValue" resultType="int">
		SELECT
		REPORT_SEQ.NEXTVAL FROM DUAL
	</select>

	<!-- 특정 보고서 조회 -->
	<select id="selectReportByRno" parameterType="int"
		resultType="report">
		SELECT
		RNO,
		TITLE,
		WRITER,
		CONTENT,
		REGDATE,
		REPORTDATE,
		PMCHECK
		FROM
		REPORT
		WHERE
		RNO = #{rno}
	</select>

	<!-- 보고서 등록 -->
	<insert id="insertReport" parameterType="report">
		INSERT INTO REPORT (
		RNO,
		TITLE,
		WRITER,
		CONTENT,
		REPORTDATE
		) VALUES (
		#{rno},
		#{title},
		#{writer},
		#{content},
		#{reportDate}
		)
	</insert>

	<!-- 보고서 수정 -->
	<update id="updateReport" parameterType="report">
		UPDATE REPORT
		SET
		TITLE =
		#{title},
		CONTENT = #{content},
		REPORTDATE = #{reportDate}
		WHERE
		RNO =
		#{rno}
	</update>

	<!-- 보고서 삭제 -->
	<delete id="deleteReport" parameterType="int">
		DELETE FROM REPORT
		WHERE
		RNO = #{rno}
	</delete>



</mapper>
